import{c as commonjsGlobal}from"./index-BoKOQ97U.js";var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=p;function p(i,c){for(var m=new Array(arguments.length-1),u=0,e=2,t=!0;e<arguments.length;)m[u++]=arguments[e++];return new Promise(function(n,f){m[u]=function(s){if(t)if(t=!1,s)f(s);else{for(var o=new Array(arguments.length-1),h=0;h<o.length;)o[h++]=arguments[h];n.apply(null,o)}};try{i.apply(c||null,m)}catch(y){t&&(t=!1,f(y))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(p){var i=p;i.length=function(r){var n=r.length;if(!n)return 0;for(var f=0;--n%4>1&&r.charAt(n)==="=";)++f;return Math.ceil(r.length*3)/4-f};for(var c=new Array(64),m=new Array(123),u=0;u<64;)m[c[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;i.encode=function(r,n,f){for(var y=null,s=[],o=0,h=0,a;n<f;){var g=r[n++];switch(h){case 0:s[o++]=c[g>>2],a=(g&3)<<4,h=1;break;case 1:s[o++]=c[a|g>>4],a=(g&15)<<2,h=2;break;case 2:s[o++]=c[a|g>>6],s[o++]=c[g&63],h=0;break}o>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,s)),o=0)}return h&&(s[o++]=c[a],s[o++]=61,h===1&&(s[o++]=61)),y?(o&&y.push(String.fromCharCode.apply(String,s.slice(0,o))),y.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var e="invalid encoding";i.decode=function(r,n,f){for(var y=f,s=0,o,h=0;h<r.length;){var a=r.charCodeAt(h++);if(a===61&&s>1)break;if((a=m[a])===void 0)throw Error(e);switch(s){case 0:o=a,s=1;break;case 1:n[f++]=o<<2|(a&48)>>4,o=a,s=2;break;case 2:n[f++]=(o&15)<<4|(a&60)>>2,o=a,s=3;break;case 3:n[f++]=(o&3)<<6|a,s=0;break}}if(s===1)throw Error(e);return f-y},i.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=p;function p(){this._listeners={}}return p.prototype.on=function(c,m,u){return(this._listeners[c]||(this._listeners[c]=[])).push({fn:m,ctx:u||this}),this},p.prototype.off=function(c,m){if(c===void 0)this._listeners={};else if(m===void 0)this._listeners[c]=[];else for(var u=this._listeners[c],e=0;e<u.length;)u[e].fn===m?u.splice(e,1):++e;return this},p.prototype.emit=function(c){var m=this._listeners[c];if(m){for(var u=[],e=1;e<arguments.length;)u.push(arguments[e++]);for(e=0;e<m.length;)m[e].fn.apply(m[e++].ctx,u)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=p(p);function p(e){return typeof Float32Array<"u"?(function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function f(h,a,g){t[0]=h,a[g]=r[0],a[g+1]=r[1],a[g+2]=r[2],a[g+3]=r[3]}function y(h,a,g){t[0]=h,a[g]=r[3],a[g+1]=r[2],a[g+2]=r[1],a[g+3]=r[0]}e.writeFloatLE=n?f:y,e.writeFloatBE=n?y:f;function s(h,a){return r[0]=h[a],r[1]=h[a+1],r[2]=h[a+2],r[3]=h[a+3],t[0]}function o(h,a){return r[3]=h[a],r[2]=h[a+1],r[1]=h[a+2],r[0]=h[a+3],t[0]}e.readFloatLE=n?s:o,e.readFloatBE=n?o:s})():(function(){function t(n,f,y,s){var o=f<0?1:0;if(o&&(f=-f),f===0)n(1/f>0?0:2147483648,y,s);else if(isNaN(f))n(2143289344,y,s);else if(f>34028234663852886e22)n((o<<31|2139095040)>>>0,y,s);else if(f<11754943508222875e-54)n((o<<31|Math.round(f/1401298464324817e-60))>>>0,y,s);else{var h=Math.floor(Math.log(f)/Math.LN2),a=Math.round(f*Math.pow(2,-h)*8388608)&8388607;n((o<<31|h+127<<23|a)>>>0,y,s)}}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,c);function r(n,f,y){var s=n(f,y),o=(s>>31)*2+1,h=s>>>23&255,a=s&8388607;return h===255?a?NaN:o*(1/0):h===0?o*1401298464324817e-60*a:o*Math.pow(2,h-150)*(a+8388608)}e.readFloatLE=r.bind(null,m),e.readFloatBE=r.bind(null,u)})(),typeof Float64Array<"u"?(function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function f(h,a,g){t[0]=h,a[g]=r[0],a[g+1]=r[1],a[g+2]=r[2],a[g+3]=r[3],a[g+4]=r[4],a[g+5]=r[5],a[g+6]=r[6],a[g+7]=r[7]}function y(h,a,g){t[0]=h,a[g]=r[7],a[g+1]=r[6],a[g+2]=r[5],a[g+3]=r[4],a[g+4]=r[3],a[g+5]=r[2],a[g+6]=r[1],a[g+7]=r[0]}e.writeDoubleLE=n?f:y,e.writeDoubleBE=n?y:f;function s(h,a){return r[0]=h[a],r[1]=h[a+1],r[2]=h[a+2],r[3]=h[a+3],r[4]=h[a+4],r[5]=h[a+5],r[6]=h[a+6],r[7]=h[a+7],t[0]}function o(h,a){return r[7]=h[a],r[6]=h[a+1],r[5]=h[a+2],r[4]=h[a+3],r[3]=h[a+4],r[2]=h[a+5],r[1]=h[a+6],r[0]=h[a+7],t[0]}e.readDoubleLE=n?s:o,e.readDoubleBE=n?o:s})():(function(){function t(n,f,y,s,o,h){var a=s<0?1:0;if(a&&(s=-s),s===0)n(0,o,h+f),n(1/s>0?0:2147483648,o,h+y);else if(isNaN(s))n(0,o,h+f),n(2146959360,o,h+y);else if(s>17976931348623157e292)n(0,o,h+f),n((a<<31|2146435072)>>>0,o,h+y);else{var g;if(s<22250738585072014e-324)g=s/5e-324,n(g>>>0,o,h+f),n((a<<31|g/4294967296)>>>0,o,h+y);else{var d=Math.floor(Math.log(s)/Math.LN2);d===1024&&(d=1023),g=s*Math.pow(2,-d),n(g*4503599627370496>>>0,o,h+f),n((a<<31|d+1023<<20|g*1048576&1048575)>>>0,o,h+y)}}}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,c,4,0);function r(n,f,y,s,o){var h=n(s,o+f),a=n(s,o+y),g=(a>>31)*2+1,d=a>>>20&2047,l=4294967296*(a&1048575)+h;return d===2047?l?NaN:g*(1/0):d===0?g*5e-324*l:g*Math.pow(2,d-1075)*(l+4503599627370496)}e.readDoubleLE=r.bind(null,m,0,4),e.readDoubleBE=r.bind(null,u,4,0)})(),e}function i(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function c(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function m(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function u(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(p){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(p){var i=p;i.length=function(m){for(var u=0,e=0,t=0;t<m.length;++t)e=m.charCodeAt(t),e<128?u+=1:e<2048?u+=2:(e&64512)===55296&&(m.charCodeAt(t+1)&64512)===56320?(++t,u+=4):u+=3;return u},i.read=function(m,u,e){var t=e-u;if(t<1)return"";for(var r=null,n=[],f=0,y;u<e;)y=m[u++],y<128?n[f++]=y:y>191&&y<224?n[f++]=(y&31)<<6|m[u++]&63:y>239&&y<365?(y=((y&7)<<18|(m[u++]&63)<<12|(m[u++]&63)<<6|m[u++]&63)-65536,n[f++]=55296+(y>>10),n[f++]=56320+(y&1023)):n[f++]=(y&15)<<12|(m[u++]&63)<<6|m[u++]&63,f>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,n)),f=0);return r?(f&&r.push(String.fromCharCode.apply(String,n.slice(0,f))),r.join("")):String.fromCharCode.apply(String,n.slice(0,f))},i.write=function(m,u,e){for(var t=e,r,n,f=0;f<m.length;++f)r=m.charCodeAt(f),r<128?u[e++]=r:r<2048?(u[e++]=r>>6|192,u[e++]=r&63|128):(r&64512)===55296&&((n=m.charCodeAt(f+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++f,u[e++]=r>>18|240,u[e++]=r>>12&63|128,u[e++]=r>>6&63|128,u[e++]=r&63|128):(u[e++]=r>>12|224,u[e++]=r>>6&63|128,u[e++]=r&63|128);return e-t}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=p;function p(i,c,m){var u=m||8192,e=u>>>1,t=null,r=u;return function(f){if(f<1||f>e)return i(f);r+f>u&&(t=i(u),r=0);var y=c.call(t,r,r+=f);return r&7&&(r=(r|7)+1),y}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=i;var p=requireMinimal$1();function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var c=i.zero=new i(0,0);c.toNumber=function(){return 0},c.zzEncode=c.zzDecode=function(){return this},c.length=function(){return 1};var m=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(t===0)return c;var r=t<0;r&&(t=-t);var n=t>>>0,f=(t-n)/4294967296>>>0;return r&&(f=~f>>>0,n=~n>>>0,++n>4294967295&&(n=0,++f>4294967295&&(f=0))),new i(n,f)},i.from=function(t){if(typeof t=="number")return i.fromNumber(t);if(p.isString(t))if(p.Long)t=p.Long.fromString(t);else return i.fromNumber(parseInt(t,10));return t.low||t.high?new i(t.low>>>0,t.high>>>0):c},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(t){return p.Long?new p.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var u=String.prototype.charCodeAt;return i.fromHash=function(t){return t===m?c:new i((u.call(t,0)|u.call(t,1)<<8|u.call(t,2)<<16|u.call(t,3)<<24)>>>0,(u.call(t,4)|u.call(t,5)<<8|u.call(t,6)<<16|u.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(p){var i=p;i.asPromise=requireAspromise(),i.base64=requireBase64(),i.EventEmitter=requireEventemitter(),i.float=requireFloat(),i.inquire=requireInquire(),i.utf8=requireUtf8(),i.pool=requirePool(),i.LongBits=requireLongbits(),i.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),i.global=i.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return typeof e=="string"||e instanceof String},i.isObject=function(e){return e&&typeof e=="object"},i.isset=i.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1},i.Buffer=(function(){try{var u=i.inquire("buffer").Buffer;return u.prototype.utf8Write?u:null}catch{return null}})(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return typeof e=="number"?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function c(u,e,t){for(var r=Object.keys(e),n=0;n<r.length;++n)(u[r[n]]===void 0||!t)&&(u[r[n]]=e[r[n]]);return u}i.merge=c,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function m(u){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&c(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return u},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}i.newError=m,i.ProtocolError=m("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var n=Object.keys(this),f=n.length-1;f>-1;--f)if(t[n[f]]===1&&this[n[f]]!==void 0&&this[n[f]]!==null)return n[f]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var u=i.Buffer;if(!u){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=u.from!==Uint8Array.from&&u.from||function(t,r){return new u(t,r)},i._Buffer_allocUnsafe=u.allocUnsafe||function(t){return new u(t)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=n;var p=requireMinimal$1(),i,c=p.LongBits,m=p.base64,u=p.utf8;function e(d,l,_){this.fn=d,this.len=l,this.next=void 0,this.val=_}function t(){}function r(d){this.head=d.head,this.tail=d.tail,this.len=d.len,this.next=d.states}function n(){this.len=0,this.head=new e(t,0,0),this.tail=this.head,this.states=null}var f=function(){return p.Buffer?function(){return(n.create=function(){return new i})()}:function(){return new n}};n.create=f(),n.alloc=function(l){return new p.Array(l)},p.Array!==Array&&(n.alloc=p.pool(n.alloc,p.Array.prototype.subarray)),n.prototype._push=function(l,_,w){return this.tail=this.tail.next=new e(l,_,w),this.len+=_,this};function y(d,l,_){l[_]=d&255}function s(d,l,_){for(;d>127;)l[_++]=d&127|128,d>>>=7;l[_]=d}function o(d,l){this.len=d,this.next=void 0,this.val=l}o.prototype=Object.create(e.prototype),o.prototype.fn=s,n.prototype.uint32=function(l){return this.len+=(this.tail=this.tail.next=new o((l=l>>>0)<128?1:l<16384?2:l<2097152?3:l<268435456?4:5,l)).len,this},n.prototype.int32=function(l){return l<0?this._push(h,10,c.fromNumber(l)):this.uint32(l)},n.prototype.sint32=function(l){return this.uint32((l<<1^l>>31)>>>0)};function h(d,l,_){for(;d.hi;)l[_++]=d.lo&127|128,d.lo=(d.lo>>>7|d.hi<<25)>>>0,d.hi>>>=7;for(;d.lo>127;)l[_++]=d.lo&127|128,d.lo=d.lo>>>7;l[_++]=d.lo}n.prototype.uint64=function(l){var _=c.from(l);return this._push(h,_.length(),_)},n.prototype.int64=n.prototype.uint64,n.prototype.sint64=function(l){var _=c.from(l).zzEncode();return this._push(h,_.length(),_)},n.prototype.bool=function(l){return this._push(y,1,l?1:0)};function a(d,l,_){l[_]=d&255,l[_+1]=d>>>8&255,l[_+2]=d>>>16&255,l[_+3]=d>>>24}n.prototype.fixed32=function(l){return this._push(a,4,l>>>0)},n.prototype.sfixed32=n.prototype.fixed32,n.prototype.fixed64=function(l){var _=c.from(l);return this._push(a,4,_.lo)._push(a,4,_.hi)},n.prototype.sfixed64=n.prototype.fixed64,n.prototype.float=function(l){return this._push(p.float.writeFloatLE,4,l)},n.prototype.double=function(l){return this._push(p.float.writeDoubleLE,8,l)};var g=p.Array.prototype.set?function(l,_,w){_.set(l,w)}:function(l,_,w){for(var q=0;q<l.length;++q)_[w+q]=l[q]};return n.prototype.bytes=function(l){var _=l.length>>>0;if(!_)return this._push(y,1,0);if(p.isString(l)){var w=n.alloc(_=m.length(l));m.decode(l,w,0),l=w}return this.uint32(_)._push(g,_,l)},n.prototype.string=function(l){var _=u.length(l);return _?this.uint32(_)._push(u.write,_,l):this._push(y,1,0)},n.prototype.fork=function(){return this.states=new r(this),this.head=this.tail=new e(t,0,0),this.len=0,this},n.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new e(t,0,0),this.len=0),this},n.prototype.ldelim=function(){var l=this.head,_=this.tail,w=this.len;return this.reset().uint32(w),w&&(this.tail.next=l.next,this.tail=_,this.len+=w),this},n.prototype.finish=function(){for(var l=this.head.next,_=this.constructor.alloc(this.len),w=0;l;)l.fn(l.val,_,w),w+=l.len,l=l.next;return _},n._configure=function(d){i=d,n.create=f(),i._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=c;var p=requireWriter();(c.prototype=Object.create(p.prototype)).constructor=c;var i=requireMinimal$1();function c(){p.call(this)}c._configure=function(){c.alloc=i._Buffer_allocUnsafe,c.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},c.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(c.writeBytesBuffer,t,e),this};function m(u,e,t){u.length<40?i.utf8.write(u,e,t):e.utf8Write?e.utf8Write(u,t):e.write(u,t)}return c.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(m,t,e),this},c._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=e;var p=requireMinimal$1(),i,c=p.LongBits,m=p.utf8;function u(s,o){return RangeError("index out of range: "+s.pos+" + "+(o||1)+" > "+s.len)}function e(s){this.buf=s,this.pos=0,this.len=s.length}var t=typeof Uint8Array<"u"?function(o){if(o instanceof Uint8Array||Array.isArray(o))return new e(o);throw Error("illegal buffer")}:function(o){if(Array.isArray(o))return new e(o);throw Error("illegal buffer")},r=function(){return p.Buffer?function(h){return(e.create=function(g){return p.Buffer.isBuffer(g)?new i(g):t(g)})(h)}:t};e.create=r(),e.prototype._slice=p.Array.prototype.subarray||p.Array.prototype.slice,e.prototype.uint32=(function(){var o=4294967295;return function(){if(o=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(o=(o|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return o;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return o}})(),e.prototype.int32=function(){return this.uint32()|0},e.prototype.sint32=function(){var o=this.uint32();return o>>>1^-(o&1)|0};function n(){var s=new c(0,0),o=0;if(this.len-this.pos>4){for(;o<4;++o)if(s.lo=(s.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return s;if(s.lo=(s.lo|(this.buf[this.pos]&127)<<28)>>>0,s.hi=(s.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return s;o=0}else{for(;o<3;++o){if(this.pos>=this.len)throw u(this);if(s.lo=(s.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return s}return s.lo=(s.lo|(this.buf[this.pos++]&127)<<o*7)>>>0,s}if(this.len-this.pos>4){for(;o<5;++o)if(s.hi=(s.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return s}else for(;o<5;++o){if(this.pos>=this.len)throw u(this);if(s.hi=(s.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return s}throw Error("invalid varint encoding")}e.prototype.bool=function(){return this.uint32()!==0};function f(s,o){return(s[o-4]|s[o-3]<<8|s[o-2]<<16|s[o-1]<<24)>>>0}e.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return f(this.buf,this.pos+=4)},e.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return f(this.buf,this.pos+=4)|0};function y(){if(this.pos+8>this.len)throw u(this,8);return new c(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}return e.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var o=p.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o},e.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var o=p.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o},e.prototype.bytes=function(){var o=this.uint32(),h=this.pos,a=this.pos+o;if(a>this.len)throw u(this,o);if(this.pos+=o,Array.isArray(this.buf))return this.buf.slice(h,a);if(h===a){var g=p.Buffer;return g?g.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,h,a)},e.prototype.string=function(){var o=this.bytes();return m.read(o,0,o.length)},e.prototype.skip=function(o){if(typeof o=="number"){if(this.pos+o>this.len)throw u(this,o);this.pos+=o}else do if(this.pos>=this.len)throw u(this);while(this.buf[this.pos++]&128);return this},e.prototype.skipType=function(s){switch(s){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(s=this.uint32()&7)!==4;)this.skipType(s);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+s+" at offset "+this.pos)}return this},e._configure=function(s){i=s,e.create=r(),i._configure();var o=p.Long?"toLong":"toNumber";p.merge(e.prototype,{int64:function(){return n.call(this)[o](!1)},uint64:function(){return n.call(this)[o](!0)},sint64:function(){return n.call(this).zzDecode()[o](!1)},fixed64:function(){return y.call(this)[o](!0)},sfixed64:function(){return y.call(this)[o](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=c;var p=requireReader();(c.prototype=Object.create(p.prototype)).constructor=c;var i=requireMinimal$1();function c(m){p.call(this,m)}return c._configure=function(){i.Buffer&&(c.prototype._slice=i.Buffer.prototype.slice)},c.prototype.string=function(){var u=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+u,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+u,this.len))},c._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=i;var p=requireMinimal$1();(i.prototype=Object.create(p.EventEmitter.prototype)).constructor=i;function i(c,m,u){if(typeof c!="function")throw TypeError("rpcImpl must be a function");p.EventEmitter.call(this),this.rpcImpl=c,this.requestDelimited=!!m,this.responseDelimited=!!u}return i.prototype.rpcCall=function c(m,u,e,t,r){if(!t)throw TypeError("request must be specified");var n=this;if(!r)return p.asPromise(c,n,m,u,e,t);if(!n.rpcImpl){setTimeout(function(){r(Error("already ended"))},0);return}try{return n.rpcImpl(m,u[n.requestDelimited?"encodeDelimited":"encode"](t).finish(),function(y,s){if(y)return n.emit("error",y,m),r(y);if(s===null){n.end(!0);return}if(!(s instanceof e))try{s=e[n.responseDelimited?"decodeDelimited":"decode"](s)}catch(o){return n.emit("error",o,m),r(o)}return n.emit("data",s,m),r(null,s)})}catch(f){n.emit("error",f,m),setTimeout(function(){r(f)},0);return}},i.prototype.end=function(m){return this.rpcImpl&&(m||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(p){var i=p;i.Service=requireService()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(p){var i=p;i.build="minimal",i.Writer=requireWriter(),i.BufferWriter=requireWriter_buffer(),i.Reader=requireReader(),i.BufferReader=requireReader_buffer(),i.util=requireMinimal$1(),i.rpc=requireRpc(),i.roots=requireRoots(),i.configure=c;function c(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}c()})(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}export{requireMinimal as r};
